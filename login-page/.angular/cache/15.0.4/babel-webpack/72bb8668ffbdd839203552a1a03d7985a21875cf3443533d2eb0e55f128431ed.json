{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ProfileComponent_form_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 6);\n    i0.ɵɵlistener(\"ngSubmit\", function ProfileComponent_form_17_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.updateAddress());\n    });\n    i0.ɵɵelementStart(1, \"div\", 7)(2, \"label\", 8);\n    i0.ɵɵtext(3, \"Address Line 1\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_form_17_Template_input_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.addressLine1 = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 7)(6, \"label\", 10);\n    i0.ɵɵtext(7, \"City\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_form_17_Template_input_ngModelChange_8_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.city = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 12);\n    i0.ɵɵtext(11, \"State\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"input\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_form_17_Template_input_ngModelChange_12_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.state = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 7)(14, \"label\", 14);\n    i0.ɵɵtext(15, \"Postal Code\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function ProfileComponent_form_17_Template_input_ngModelChange_16_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.postalCode = $event);\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"button\", 16);\n    i0.ɵɵtext(18, \"Save Address\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"button\", 4);\n    i0.ɵɵlistener(\"click\", function ProfileComponent_form_17_Template_button_click_19_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.editMode = false);\n    });\n    i0.ɵɵtext(20, \"Cancel\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.addressLine1);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.city);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.state);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.postalCode);\n  }\n}\nexport class ProfileComponent {\n  constructor(auth, router) {\n    this.auth = auth;\n    this.router = router;\n    this.addressLine1 = '';\n    this.city = '';\n    this.state = '';\n    this.postalCode = '';\n    this.editMode = false;\n  }\n  ngOnInit() {\n    this.getProfile();\n  }\n  getProfile() {\n    this.auth.getProfile().subscribe(res => {\n      console.log(res);\n      if (res.success) {\n        this.data = res.data;\n        this.addressLine1 = this.data.address?.addressLine1 || '';\n        this.city = this.data.address?.city || '';\n        this.state = this.data.address?.state || '';\n        this.postalCode = this.data.address?.postalCode || '';\n      } else {}\n    }, err => {\n      console.log(err);\n    });\n  }\n  logout() {\n    localStorage.clear();\n    this.router.navigate(['/dashboard']);\n  }\n  editAddress() {\n    this.editMode = true;\n  }\n  updateAddress() {\n    const address = {\n      addressLine1: this.addressLine1,\n      city: this.city,\n      state: this.state,\n      postalCode: this.postalCode\n    };\n    this.auth.updateAddress(address).subscribe(res => {\n      console.log(res);\n      if (res.success) {\n        this.editMode = false;\n        this.getProfile();\n      } else {}\n    }, err => {\n      console.log(err);\n    });\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 18,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-md-6\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-secondary\", 3, \"click\"], [3, \"ngSubmit\", 4, \"ngIf\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"addressLine1\"], [\"type\", \"text\", \"id\", \"addressLine1\", \"name\", \"addressLine1\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"city\"], [\"type\", \"text\", \"id\", \"city\", \"name\", \"city\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"state\"], [\"type\", \"text\", \"id\", \"state\", \"name\", \"state\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"postalCode\"], [\"type\", \"text\", \"id\", \"postalCode\", \"name\", \"postalCode\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Profile\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2)(5, \"p\")(6, \"strong\");\n      i0.ɵɵtext(7, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\")(10, \"strong\");\n      i0.ɵɵtext(11, \"Display Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_13_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(14, \"Logout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ProfileComponent_Template_button_click_15_listener() {\n        return ctx.editAddress();\n      });\n      i0.ɵɵtext(16, \"Edit Address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(17, ProfileComponent_form_17_Template, 21, 4, \"form\", 5);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵtextInterpolate1(\" \", ctx.data.email, \"\");\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" \", ctx.data.displayName, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.editMode);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".btn-primary[_ngcontent-%COMP%] {\\n  color: #fff;\\n  background-color: #0d6efd;\\n  border-color: #0d6efd;\\n  width: 82%;\\n  margin-left: 42px;\\n}\\n\\n.btn-success[_ngcontent-%COMP%] {\\n  color: #fff;\\n  background-color: #198754;\\n  border-color: #198754;\\n  width: -webkit-fill-available;\\n  margin: 10px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvcHJvZmlsZS9wcm9maWxlLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLHFCQUFxQjtFQUNyQixVQUFVO0VBQ1YsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsV0FBVztFQUNYLHlCQUF5QjtFQUN6QixxQkFBcUI7RUFDckIsNkJBQTZCO0VBQzdCLFlBQVk7QUFDZCIsInNvdXJjZXNDb250ZW50IjpbIi5idG4tcHJpbWFyeSB7XG4gIGNvbG9yOiAjZmZmO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGQ2ZWZkO1xuICBib3JkZXItY29sb3I6ICMwZDZlZmQ7XG4gIHdpZHRoOiA4MiU7XG4gIG1hcmdpbi1sZWZ0OiA0MnB4O1xufVxuXG4uYnRuLXN1Y2Nlc3Mge1xuICBjb2xvcjogI2ZmZjtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzE5ODc1NDtcbiAgYm9yZGVyLWNvbG9yOiAjMTk4NzU0O1xuICB3aWR0aDogLXdlYmtpdC1maWxsLWF2YWlsYWJsZTtcbiAgbWFyZ2luOiAxMHB4O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ProfileComponent","constructor","auth","router","ngOnInit","getProfile","subscribe","res","console","log","success","data","addressLine1","address","city","state","postalCode","err","logout","localStorage","clear","navigate","editAddress","editMode","updateAddress","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\CHROME DOWNLOADS\\edukit-main\\edukit-main\\login-page\\src\\app\\pages\\profile\\profile.component.html","D:\\CHROME DOWNLOADS\\edukit-main\\edukit-main\\login-page\\src\\app\\pages\\profile\\profile.component.ts"],"sourcesContent":["<div class=\"container\">\n  <h1>Profile</h1>\n  <div class=\"row\">\n    <div class=\"col-md-6\">\n      <p><strong>Email:</strong> {{ data.email }}</p>\n      <p><strong>Display Name:</strong> {{ data.displayName }}</p>\n      <button class=\"btn btn-primary\" (click)=\"logout()\">Logout</button>\n      <button class=\"btn btn-secondary\" (click)=\"editAddress()\">Edit Address</button>\n      <form *ngIf=\"editMode\" (ngSubmit)=\"updateAddress()\">\n        <div class=\"form-group\">\n          <label for=\"addressLine1\">Address Line 1</label>\n          <input type=\"text\" class=\"form-control\" id=\"addressLine1\" [(ngModel)]=\"addressLine1\" name=\"addressLine1\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"city\">City</label>\n          <input type=\"text\" class=\"form-control\" id=\"city\" [(ngModel)]=\"city\" name=\"city\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"state\">State</label>\n          <input type=\"text\" class=\"form-control\" id=\"state\" [(ngModel)]=\"state\" name=\"state\">\n        </div>\n        <div class=\"form-group\">\n          <label for=\"postalCode\">Postal Code</label>\n          <input type=\"text\" class=\"form-control\" id=\"postalCode\" [(ngModel)]=\"postalCode\" name=\"postalCode\">\n        </div>\n        <button type=\"submit\" class=\"btn btn-primary\">Save Address</button>\n        <button class=\"btn btn-secondary\" (click)=\"editMode=false\">Cancel</button>\n      </form>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/service/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.css'],\n})\nexport class ProfileComponent implements OnInit {\n  data: any;\n  addressLine1 = '';\n  city = '';\n  state = '';\n  postalCode = '';\n  editMode = false;\n\n  constructor(private auth: AuthService, private router: Router) {}\n\n  ngOnInit(): void {\n    this.getProfile();\n  }\n\n  getProfile() {\n    this.auth.getProfile().subscribe(\n      (res) => {\n        console.log(res);\n        if (res.success) {\n          this.data = res.data;\n          this.addressLine1 = this.data.address?.addressLine1 || '';\n          this.city = this.data.address?.city || '';\n          this.state = this.data.address?.state || '';\n          this.postalCode = this.data.address?.postalCode || '';\n        } else {\n        }\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n\n  logout() {\n    localStorage.clear();\n    this.router.navigate(['/dashboard']);\n  }\n\n  editAddress() {\n    this.editMode = true;\n  }\n\n  updateAddress() {\n    const address = {\n      addressLine1: this.addressLine1,\n      city: this.city,\n      state: this.state,\n      postalCode: this.postalCode,\n    };\n\n    this.auth.updateAddress(address).subscribe(\n      (res) => {\n        console.log(res);\n        if (res.success) {\n          this.editMode = false;\n          this.getProfile();\n        } else {\n        }\n      },\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}